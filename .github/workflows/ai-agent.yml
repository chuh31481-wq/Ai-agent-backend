name: 🚀 Premium AI Agent

on:
  workflow_dispatch:
    inputs:
      project_goal:
        description: 'Describe your project'
        required: true
        default: 'Create a React todo app with backend API'
      project_size:
        description: 'Project complexity'
        type: choice
        options:
        - small
        - medium  
        - large
        default: 'medium'

jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    
    steps:
    - name: 🎯 Checkout code
      uses: actions/checkout@v4
      
    - name: ⚙️ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20.x'
        cache: 'npm'
        
    - name: 📦 Install dependencies
      run: |
        npm install
        npm cache clean --force
        
    - name: 🏗️ Run AI Agent
      env:
        AGENT_GOAL: ${{ inputs.project_goal }}
        GEMINI_API_KEY_1: ${{ secrets.GEMINI_API_KEY_1 }}
        GEMINI_API_KEY_2: ${{ secrets.GEMINI_API_KEY_2 }}
        NODE_ENV: production
      run: |
        echo "Starting Premium AI Agent..."
        node server.js
        
    - name: 📊 Results
      run: |
        echo "Project completed successfully!"
        ls -la
